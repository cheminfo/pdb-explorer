"use strict";define([],function(){function a(a,d,e){for(var f=0;f<d.length;f++)d[f]=DataObject.check(d[f]);var g=a,h=Object.keys(e);return c=0,b(g,d,e,h),a}function b(a,d,e,f){if(a.id=c,++c,a.data={},a.hasOwnProperty("index")){var g=d[a.index];if(g){a.data.data=g;for(var h=0;h<f.length;++h){var i=g.getChildSync(e[f[h]]);i&&(a.data[f[h]]=i.get(),"$type"===f[h]&&"image"===i.get()&&(a.data.image=g.image))}}}if(void 0!==a.children)for(var h=0;h<a.children.length;++h)b(a.children[h],d,e,f)}var c=0;return{annotateTree:a}});