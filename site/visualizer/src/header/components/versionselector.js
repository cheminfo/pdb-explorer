"use strict";define(["jquery","src/header/components/default","src/util/versioning","src/util/util","uri/URI"],function(a,b,c,d,e){function f(){}function g(){return i||(i=Promise.resolve(a.getJSON(h))),i}var h,i,j;return d.inherits(f,b,{initImpl:function(){h=this.options.url},_onClick:function(){var a=this;this.setStyleOpen(this._open),this._open?(j&&j!==this&&j._open&&j.onClick(),j=a,this.doElements()):this.close()},doElements:function(){var b,d=this,f=new e(document.location.href),h=f.query(!0);b=h.v?h.v:"v"+c.version,g().then(function(c){for(var e=d.$_elToOpen=a("<ul />"),f=0,g=c.length;g>f;f++){var h=c[f],i=b===h;e.append(d._buildSubElement(c[f],i))}d.open()})},_buildSubElement:function(b,c){var d=(c?"â€¢ ":"")+b,e=this,f=a("<li />").text(d);return f.addClass("hasEvent").bind("click",function(){e.load(b),e.onClick()}),f},load:function(a){var b=new e(document.location.href),c=b.query(!0);c.v!==a&&(b.setQuery("v",a),document.location=b.href())}}),f});