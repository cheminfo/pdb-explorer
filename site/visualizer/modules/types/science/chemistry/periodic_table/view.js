"use strict";define(["modules/default/defaultview","lib/twigjs/twig","src/util/debug"],function(a,b,c){function d(){}return $.extend(!0,d.prototype,a,{init:function(){this.dom=$('<div class="periodic-table">'),this.elements=[],this.template=b.twig({data:this.module.getConfiguration("template")})},blank:{template:function(){this.module.definition.configuration.groups.group[0].template[0]="",this.template=b.twig({data:""}),this.dom.html("")}},inDom:function(){this.module.getDomContent().html(this.dom),this.resolveReady(),this.render()},update:{value:function(a,b){this.elements=JSON.parse(JSON.stringify(a.resurrect())),this.render()},template:function(a){var d=a.get().toString();try{this.template=b.twig({data:d}),this.module.definition.configuration.groups.group[0].template[0]=d,this.render()}catch(a){c.info("Problem with template: "+a)}}},render:function(){function a(a){var c=a.data("idx"),d=b.elements[c];d&&(f.addClass("hidden"),g.removeClass("hidden"),h.removeClass("hidden"),g.empty(),g.append(b.template.render({element:d})))}var b=this;this.dom.html("");this.dom.append('<div class="indic-p indic-g"></div>');for(var c=1;19>c;c++)this.dom.append('<div class="indic-g group'+c+'"><p>'+c+"</p></div>");for(var c=1;8>c;c++)this.dom.append('<div class="indic-p period'+c+'"><p>'+c+"</p></div>");for(var c=0;c<this.elements.length;c++){var d=$("<div>"+this.template.render({element:this.elements[c]})+"</div>").data("idx",c);d.addClass("element e"+this.elements[c].Z+" period"+this.elements[c].period+" group"+this.elements[c].group+" block-"+this.elements[c].block+" "+this.elements[c].serie),this.dom.append(d)}var e=$('<div class="legend"></div>');$("div.e1").after(e);var f=$('<div class="default-legend"></div>'),g=$('<div class="element-zoom hidden"></div>'),h=$('<div class="element-datas hidden"><ul><li>data1</li><li>data2</li></ul></div>');e.append(f).append(g).append(h);var i=$('<div class="inner-legend"></div>');f.append(i),i.append('<ul class="color-serie"><li class="alkali">Alkali metals</li><li class="alkaline">Alkalin earth metals</li><li class="transition">Transition metals</li><li class="lanthanoid">Lanthanoids</li><li class="actinoid">Actinoids</li><li class="poor">Post-transition metals</li><li class="metalloid">Metalloids</li><li class="nonmetal">Nonmetals</li><li class="halogen">Halogens</li><li class="noble">Noble gases</li></ul>'),i.append('<div class="stateOfMatter"><table><tbody><tr><td class="solid">S</td><td>Solid</td></tr><tr><td class="liquid">L</td><td>Liquid</td></tr><tr><td class="gas"">G</td><td>Gas</td></tr><tr><td class="unknown">U</td><td>Unknown</td></tr></tbody></table><dl><dt>Temperature</dt><dd>293.5 K</dd><dt>Pressure</dt><dd>101.325 kPa</dd></dl></div>');var j=!1;$(".element").mouseenter(function(){j||a($(this))}),$(".element").click(function(){j&&$(".el-selected").removeClass("el-selected"),$(this).addClass("el-selected"),a($(this)),j=!0}),$(".element").dblclick(function(){$(this).removeClass("el-selected"),j=!1}),$(".element").mouseleave(function(){j||($(".element-zoom").delay(5e4).empty(),f.removeClass("hidden"),g.addClass("hidden"),h.addClass("hidden"))});var k='<div class="interactive-zone"><div id="slider"></div>',e=$('<div class="legend"></div>');$(".legend").after(k);var l='<div class="indic-f period7"><p>89-103</p></div>',m='<div class="indic-f period6"><p>57-71</p></div>';$("div.e56").after(m),$("div.e88").after(l)}}),d});