"use strict";define(["modules/default/defaultview","src/util/typerenderer","src/util/api"],function(a,b,c){function d(){}return $.extend(!0,d.prototype,a,{init:function(){var a=[];a.push('<div class="ci-displaylist-list-2d"></div>'),this.dom=$(a.join("")),this.module.getDomContent().html(this.dom)},blank:{list:function(){c.killHighlight(this.module.getId()),this.dom.empty()}},inDom:function(){var a=this;this.dom.on("mouseenter mouseleave click","td",function(b){var d=$(this).index(),e=$(this).parent().index(),f=a.module.getConfiguration("colnumber",4)||4,g=e*f+d,h=a.list.get()[g];"mouseenter"===b.type?(a.module.controller.setVarFromEvent("onHover","cell","list",[g]),c.highlight(h,1)):"mouseleave"===b.type?c.highlight(h,0):"click"===b.type&&(a.module.controller.setVarFromEvent("onClick","cell","list",[g]),a.module.controller.sendActionFromEvent("onClick","cell",h))}),this.resolveReady()},update:{list:function(a){var b=this.module.getConfiguration.bind(this.module),c=b("colnumber",4)||4,d=a.get(),e=$('<table cellpadding="3" cellspacing="0">').css("text-align","center");this.dom.html(e),this.list=d;for(var f,g,h=(b("height"),{width:Math.round(100/c)+"%",height:b("height",0)+"px"}),i=0;i<d.length;i++)g=i%c,0===g&&(f=$("<tr>").appendTo(e)),this.renderElement(f,i,h,b("colorjpath",!1),b("valjpath",""))}},renderElement:function(a,d,e,f,g){var h=this,i=$("<td>").css(e).appendTo(a);this.list.getChild([d]).then(function(a){f&&a.getChild(f).then(function(a){i.css("background-color",a.get())}),b.render(i,a,g),c.listenHighlight(a,function(a,b){a?i.css("border-color","black"):i.css("border-color","")},!1,h.module.getId())})}}),d});