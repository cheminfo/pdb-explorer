{"version":3,"sources":["jcampconverter.min.js"],"names":["e","exports","module","define","amd","f","window","global","self","JcampConverter","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"getConverter","convertToFloatArray","stringArray","floatArray","Array","parseFloat","convert","jcamp","options","keepRecordsRegExp","ldr","dataLabel","dataValue","ldrs","ii","position","endLine","infos","start","Date","ntuples","result","profiling","logs","spectra","info","spectrum","push","action","time","split","replace","indexOf","substring","trim","toUpperCase","xIndex","yIndex","firstVariable","secondVariable","symbol","first","firstX","firstY","last","lastX","lastY","vardim","nbPoints","factor","xFactor","yFactor","units","xUnit","yUnit","datatable","deltaX","title","dataType","twoD","observeFrequency","xType","indirectFrequency","shiftOffsetNum","shiftOffsetVal","varname","vartype","varform","min","max","yType","page","pageValue","pageSymbol","pageSymbolIndex","unit","prepareSpectrum","match","parseXYData","parsePeakTable","isMSField","convertMSFieldToLabel","Object","keys","newNtuples","key","values","j","add2D","keepSpectra","toLowerCase","addGCMS","xy","data","newData","x","y","k","value","GC_MS_FIELDS","existingGCMSFields","label","gcms","gc","ms","shift","isPeaktable","jj","currentData","lines","removeCommentRegExp","peakTableSplitRegExp","isXYdata","lastDif","ascii","currentX","currentY","xyDataSplitRegExp","DEBUG","firstPoint","expectedCurrentX","charCodeAt","String","fromCharCode","dup","convertTo3DZ","noise","minZ","maxZ","ySize","xSize","z","Math","abs","minX","maxX","minY","maxY","zData","contourLines","generateContourLines","minMax","pAx","pAy","pBx","pBy","lineZValue","contourLevels","nbLevels","povarHeight","Float32Array","isOver","nbSubSpectra","nbPovars","x0","xN","dx","y0","yN","dy","level","contourLevel","side","exp","zValue","iSubSpectra","povar","segments","input","useWorker","postToWorker","worker","createWorker","Promise","resolve","stamp","now","random","stamps","postMessage","workerURL","URL","createObjectURL","Blob","toString","type","Worker","revokeObjectURL","addEventListener","event","output"],"mappings":"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","file":"jcampconverter.min.js","sourcesContent":["// jcampconverter@v2.0.7, MIT licensed. https://github.com/cheminfo/jcampconverter\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;\"undefined\"!=typeof window?t=window:\"undefined\"!=typeof global?t=global:\"undefined\"!=typeof self&&(t=self),t.JcampConverter=e()}}(function(){return function e(t,r,a){function n(s,o){if(!r[s]){if(!t[s]){var l=\"function\"==typeof require&&require;if(!o&&l)return l(s,!0);if(i)return i(s,!0);var f=new Error(\"Cannot find module '\"+s+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var p=r[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return n(r?r:e)},p,p.exports,e,t,r,a)}return r[s].exports}for(var i=\"function\"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t){\"use strict\";function r(){function e(e){for(var t=e.length,r=new Array(t),a=0;t>a;a++)r[a]=parseFloat(e[a]);return r}function t(t,l){l=l||{};var p=/^[A-Z]+$/;l.keepRecordsRegExp&&(p=l.keepRecordsRegExp);var u,c,g,d,h,v,F,m,y,X=new Date,x={},A={};A.profiling=[],A.logs=[];var b=[];A.spectra=b,A.info={};var T={};if(\"string\"!=typeof t)return A;for(A.profiling&&A.profiling.push({action:\"Before split to LDRS\",time:new Date-X}),d=t.split(/[\\r\\n]+##/),A.profiling&&A.profiling.push({action:\"Split to LDRS\",time:new Date-X}),d[0]&&(d[0]=d[0].replace(/^[\\r\\n ]*##/,\"\")),h=0,v=d.length;v>h;h++){if(u=d[h],F=u.indexOf(\"=\"),F>0?(c=u.substring(0,F),g=u.substring(F+1).trim()):(c=u,g=\"\"),c=c.replace(/[_ -]/g,\"\").toUpperCase(),\"DATATABLE\"==c&&(m=g.indexOf(\"\\n\"),-1==m&&(m=g.indexOf(\"\\r\")),m>0)){var E=-1,O=-1;if(y=g.substring(0,m).split(/[ ,;\\t]+/),y[0].indexOf(\"++\")>0){var C=y[0].replace(/.*\\(([a-zA-Z0-9]+)\\+\\+.*/,\"$1\"),S=y[0].replace(/.*\\.\\.([a-zA-Z0-9]+).*/,\"$1\");E=x.symbol.indexOf(C),O=x.symbol.indexOf(S)}-1==E&&(E=0),-1==O&&(O=0),x.first&&(x.first.length>E&&(T.firstX=x.first[E]),x.first.length>O&&(T.firstY=x.first[O])),x.last&&(x.last.length>E&&(T.lastX=x.last[E]),x.last.length>O&&(T.lastY=x.last[O])),x.vardim&&x.vardim.length>E&&(T.nbPoints=x.vardim[E]),x.factor&&(x.factor.length>E&&(T.xFactor=x.factor[E]),x.factor.length>O&&(T.yFactor=x.factor[O])),x.units&&(x.units.length>E&&(T.xUnit=x.units[E]),x.units.length>O&&(T.yUnit=x.units[O])),T.datatable=y[0],y[1]&&y[1].indexOf(\"PEAKS\")>-1?c=\"PEAKTABLE\":y[1]&&(y[1].indexOf(\"XYDATA\")||y[0].indexOf(\"++\")>0)&&(c=\"XYDATA\",T.deltaX=(T.lastX-T.firstX)/(T.nbPoints-1))}if(\"TITLE\"==c)T.title=g;else if(\"DATATYPE\"==c)T.dataType=g,g.indexOf(\"nD\")>-1&&(A.twoD=!0);else if(\"XUNITS\"==c)T.xUnit=g;else if(\"YUNITS\"==c)T.yUnit=g;else if(\"FIRSTX\"==c)T.firstX=parseFloat(g);else if(\"LASTX\"==c)T.lastX=parseFloat(g);else if(\"FIRSTY\"==c)T.firstY=parseFloat(g);else if(\"NPOINTS\"==c)T.nbPoints=parseFloat(g);else if(\"XFACTOR\"==c)T.xFactor=parseFloat(g);else if(\"YFACTOR\"==c)T.yFactor=parseFloat(g);else if(\"DELTAX\"==c)T.deltaX=parseFloat(g);else if(\".OBSERVEFREQUENCY\"==c||\"$SFO1\"==c)T.observeFrequency||(T.observeFrequency=parseFloat(g));else if(\".OBSERVENUCLEUS\"==c)T.xType||(A.xType=g.replace(/[^a-zA-Z0-9]/g,\"\"));else if(\"$SFO2\"==c)A.indirectFrequency||(A.indirectFrequency=parseFloat(g));else if(\"$OFFSET\"==c)A.shiftOffsetNum=0,A.shiftOffsetVal||(A.shiftOffsetVal=parseFloat(g));else if(\"$REFERENCEPOINT\"==c);else if(\"VARNAME\"==c)x.varname=g.split(/[, \\t]+/);else if(\"SYMBOL\"==c)x.symbol=g.split(/[, \\t]+/);else if(\"VARTYPE\"==c)x.vartype=g.split(/[, \\t]+/);else if(\"VARFORM\"==c)x.varform=g.split(/[, \\t]+/);else if(\"VARDIM\"==c)x.vardim=e(g.split(/[, \\t]+/));else if(\"UNITS\"==c)x.units=g.split(/[, \\t]+/);else if(\"FACTOR\"==c)x.factor=e(g.split(/[, \\t]+/));else if(\"FIRST\"==c)x.first=e(g.split(/[, \\t]+/));else if(\"LAST\"==c)x.last=e(g.split(/[, \\t]+/));else if(\"MIN\"==c)x.min=e(g.split(/[, \\t]+/));else if(\"MAX\"==c)x.max=e(g.split(/[, \\t]+/));else if(\".NUCLEUS\"==c)A.twoD&&(A.yType=g.split(/[, \\t]+/)[0]);else if(\"PAGE\"==c){T.page=g.trim(),T.pageValue=parseFloat(g.replace(/^.*=/,\"\")),T.pageSymbol=T.page.replace(/=.*/,\"\");var R=x.symbol.indexOf(T.pageSymbol),w=\"\";x.units&&x.units[R]&&(w=x.units[R]),A.indirectFrequency&&\"PPM\"!=w&&(T.pageValue/=A.indirectFrequency)}else\"RETENTIONTIME\"==c?T.pageValue=parseFloat(g):\"XYDATA\"==c?(i(A,T),g.match(/.*\\+\\+.*/)?o(T,g,A):s(T,g,A),b.push(T),T={}):\"PEAKTABLE\"==c?(i(A,T),s(T,g,A),b.push(T),T={}):a(c)?T[r(c)]=g:c.match(p)&&(A.info[c]=g.trim())}if(A.profiling&&A.profiling.push({action:\"Finished parsing\",time:new Date-X}),A.twoD&&(f(A),A.profiling&&A.profiling.push({action:\"Finished countour plot calculation\",time:new Date-X}),l.keepSpectra||delete A.spectra),b.length>1&&b[0].dataType.toLowerCase().match(/.*mass./)&&(n(A),A.profiling&&A.profiling.push({action:\"Finished GCMS calculation\",time:new Date-X})),l.xy&&b.length>0)for(var h=0;h<b.length;h++){var T=b[h];if(T.data.length>0)for(var U=0;U<T.data.length;U++){for(var D=T.data[U],Y={x:Array(D.length/2),y:Array(D.length/2)},L=0;L<D.length;L+=2)Y.x[L/2]=D[L],Y.y[L/2]=D[L+1];T.data[U]=Y}}return A.profiling&&A.profiling.push({action:\"Total time\",time:new Date-X}),A}function r(e){return e.toLowerCase().replace(/[^a-z0-9]/g,\"\")}function a(e){for(var t=0;t<h.length;t++)if(e==h[t])return!0;return!1}function n(e){var t,a=e.spectra,n=[];for(t=0;t<h.length;t++){var i=r(h[t]);a[0][i]&&n.push(i)}var s={};for(s.gc={},s.ms=[],t=0;t<n.length;t++)s.gc[n[t]]=[];for(t=0;t<a.length;t++){for(var o=a[t],l=0;l<n.length;l++)s.gc[n[l]].push(o.pageValue),s.gc[n[l]].push(parseFloat(o[n[l]]));o.data&&(s.ms[t]=o.data[0])}e.gcms=s}function i(e,t){if(t.xFactor||(t.xFactor=1),t.yFactor||(t.yFactor=1),t.observeFrequency&&t.xUnit&&\"HZ\"==t.xUnit.toUpperCase()&&(t.xUnit=\"PPM\",t.xFactor=t.xFactor/t.observeFrequency,t.firstX=t.firstX/t.observeFrequency,t.lastX=t.lastX/t.observeFrequency,t.deltaX=t.deltaX/t.observeFrequency),e.shiftOffsetVal){var r=t.firstX-e.shiftOffsetVal;t.firstX=t.firstX-r,t.lastX=t.lastX-r}}function s(e,t,r){e.isPeaktable=!0;var a,n,i,s,o,l=[];e.data=[l];var f=t.split(/,? *,?[;\\r\\n]+ */),p=0;for(a=1,n=f.length;n>a;a++)if(o=f[a].trim().replace(c,\"\").split(g),o.length%2==0)for(i=0,s=o.length;s>i;i+=2)l[p++]=parseFloat(o[i])*e.xFactor,l[p++]=parseFloat(o[i+1])*e.yFactor;else r.logs.push(\"Format error: \"+o)}function o(e,t,r){e.deltaX||(e.deltaX=(e.lastX-e.firstX)/(e.nbPoints-1)),e.isXYdata=!0;var a=[];e.data=[a];var n,i,s,o=e.firstX,l=e.firstY,f=t.split(/[\\r\\n]+/);i=[];for(var p=1,g=f.length;g>p;p++)if(i=f[p].trim().replace(c,\"\").split(u),i.length>0){if(d){e.firstPoint||(e.firstPoint=parseFloat(i[0]));var h=parseFloat(i[0]-e.firstPoint)*e.xFactor+e.firstX;(n||0==n)&&(h+=e.deltaX),r.logs.push(\"Checking X value: currentX: \"+o+\" - expectedCurrentX: \"+h)}for(var v=1,F=i.length;F>v;v++)if(1!=v||!n&&0!=n){if(i[v].length>0)if(s=i[v].charCodeAt(0),43==s||45==s||46==s||s>47&&58>s)n=null,l=parseFloat(i[v]),a.push(o,l*e.yFactor),o+=e.deltaX;else if(s>63&&74>s)n=null,l=parseFloat(String.fromCharCode(s-16)+i[v].substring(1)),a.push(o,l*e.yFactor),o+=e.deltaX;else if(s>96&&106>s)n=null,l=-parseFloat(String.fromCharCode(s-48)+i[v].substring(1)),a.push(o,l*e.yFactor),o+=e.deltaX;else if(s>82&&91>s||115==s){var m=parseFloat(String.fromCharCode(s-34)+i[v].substring(1))-1;115==s&&(m=parseFloat(\"9\"+i[v].substring(1))-1);for(var y=0;m>y;y++)n&&(l+=n),a.push(o,l*e.yFactor),o+=e.deltaX}else 37==s?(n=parseFloat(\"0\"+i[v].substring(1)),l+=n,a.push(o,l*e.yFactor),o+=e.deltaX):s>73&&83>s?(n=parseFloat(String.fromCharCode(s-25)+i[v].substring(1)),l+=n,a.push(o,l*e.yFactor),o+=e.deltaX):s>105&&115>s&&(n=-parseFloat(String.fromCharCode(s-57)+i[v].substring(1)),l+=n,a.push(o,l*e.yFactor),o+=e.deltaX)}else n=null,s=i[v].charCodeAt(0)}}function l(e){for(var t=0,r=e[0].data[0][0],a=r,n=e.length,i=e[0].data[0].length/2,s=new Array(n),o=0;n>o;o++){s[o]=new Array(i);for(var l=0;i>l;l++)s[o][l]=e[o].data[0][2*l+1],s[o][l]<r&&(r=e[o].data[0][2*l+1]),s[o][l]>a&&(a=e[o].data[0][2*l+1]),0!=o&&0!=l&&(t+=Math.abs(s[o][l]-s[o][l-1])+Math.abs(s[o][l]-s[o-1][l]))}return{z:s,minX:e[0].data[0][0],maxX:e[0].data[0][e[0].data[0].length-2],minY:e[0].pageValue,maxY:e[n-1].pageValue,minZ:r,maxZ:a,noise:t/((n-1)*(i-1)*2)}}function f(e){var t=l(e.spectra);e.contourLines=p(t),delete t.z,e.minMax=t}function p(e){for(var t,r,a,n,i,s=e.noise,o=e.z,l=[],f=7,p=new Float32Array(4),u=[],c=o.length,g=o[0].length,d=e.minX,h=e.maxX,v=(h-d)/(g-1),F=e.minY,m=e.maxY,y=(m-F)/(c-1),X=e.minZ,x=e.maxZ,A=0;2*f>A;A++){var b={};l.push(b);var T=A%2;i=0==T?(x-5*s)*Math.exp(A/2-f)+5*s:-(x-5*s)*Math.exp(A/2-f)-5*s;var E=[];if(b.zValue=i,b.lines=E,!(X>=i||i>=x))for(var O=0;c-1>O;O++)for(var C=0;g-1>C;C++){p[0]=o[O][C],p[1]=o[O][C+1],p[2]=o[O+1][C],p[3]=o[O+1][C+1];for(var S=0;4>S;S++)u[S]=p[S]>i;u[0]!=u[1]&&u[0]!=u[2]&&(t=C+(i-p[0])/(p[1]-p[0]),r=O,a=C,n=O+(i-p[0])/(p[2]-p[0]),E.push(t*v+d,r*y+F,a*v+d,n*y+F)),u[3]!=u[1]&&u[3]!=u[2]&&(t=C+1,r=O+1-(i-p[3])/(p[1]-p[3]),a=C+1-(i-p[3])/(p[2]-p[3]),n=O+1,E.push(t*v+d,r*y+F,a*v+d,n*y+F)),u[1]!=u[2]&&(t=C+1-(i-p[1])/(p[2]-p[1]),r=O+(i-p[1])/(p[2]-p[1]),u[1]!=u[0]&&(a=C+1-(i-p[1])/(p[0]-p[1]),n=O,E.push(t*v+d,r*y+F,a*v+d,n*y+F)),u[2]!=u[0]&&(a=C,n=O+1-(i-p[2])/(p[0]-p[2]),E.push(t*v+d,r*y+F,a*v+d,n*y+F)),u[1]!=u[3]&&(a=C+1,n=O+(i-p[1])/(p[3]-p[1]),E.push(t*v+d,r*y+F,a*v+d,n*y+F)),u[2]!=u[3]&&(a=C+(i-p[2])/(p[3]-p[2]),n=O+1,E.push(t*v+d,r*y+F,a*v+d,n*y+F)))}}return{minX:e.minX,maxX:e.maxX,minY:e.minY,maxY:e.maxY,segments:l}}var u=/[,\\t \\+-]*(?=[^\\d,\\t \\.])|[ \\t]+(?=[\\d+\\.-])/,c=/\\$\\$.*/,g=/[,\\t ]+/,d=!1,h=[\"TIC\",\".RIC\",\"SCANNUMBER\"];return t}function a(e,t,r){return\"boolean\"==typeof t&&(r=t,t={}),r?n(e,t):o(e,t)}function n(e,t){return s||i(),new Promise(function(r){var a=Date.now()+\"\"+Math.random();l[a]=r,s.postMessage({stamp:a,input:e,options:t})})}function i(){var e=URL.createObjectURL(new Blob([\"var getConverter =\"+r.toString()+\";var convert = getConverter(); onmessage = function (event) { postMessage({stamp: event.data.stamp, output: convert(event.data.input, event.data.options)}); };\"],{type:\"application/javascript\"}));s=new Worker(e),URL.revokeObjectURL(e),s.addEventListener(\"message\",function(e){var t=e.data.stamp;l[t]&&l[t](e.data.output)})}var s,o=r(),l={};t.exports={convert:a}},{}]},{},[1])(1)});\n//# sourceMappingURL=jcampconverter.min.js.map"],"sourceRoot":"/source/"}